{% extends 'base.html.twig' %}

{% block title %}Mastodon notifications
{% endblock %}

{% block body %}
	<section class="container my-4">
		<div class="row">
			<div class="col-12">
				<h2>
					Liste des notifications
				</h2>
			</div>
		</div>
	</section>

	<section class="container mb-4">
		<div class="row">
			<div class="col-12">

				<table class="table table-dark table-striped">
					<thead>
						<tr>
							<th scope="col">Date</th>

							<th scope="col">Auteur</th>
	<th scope="col">Type</th>
							<th scope="col">Message</th>
							<th scope="col">
								
							</th>
						
							<th scope="col">
								action</th>
						</tr>
					</thead>
					<tbody>
						{% for notification in notifications %}
							<tr>
								<td>
									{{notification.created_at | date('d-m-Y H:m:s')  }}</td>
								<td>
									{{notification.account.username }}</td>
								<td>
									{{notification.type }}
								</td>
								{% if notification.status is defined %}
									<td>
										<span class="">
											{{notification.status.visibility }}</span>
									</td>
									<td>
										{{notification.status.content | raw }}</td>
										<td>

								
										{% if notification.status.visibility == "direct" %}
											<a href="{{ path('mamot-pouet-f-id',{id:notification.status.id} )}}">  <i class="bi bi-eye-fill"></i> (conversation) </a>
										{% else %}
												<a href="#">  <i class="bi bi-eye-fill"></i> (d√©tail) </a>
										{% endif %}
										 </td>

								{% else %}

						
									<td></td>
									<td></td>
									<td></td>

								{% endif %}

							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>

		</div>
<pre>
	{{ dump(notifications) }}
</pre>
	</section>





{% endblock %}
